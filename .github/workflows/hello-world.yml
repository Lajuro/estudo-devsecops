name: Inicializa√ß√£o do Sistema
run-name: ${{ github.error }} est√° testando Actions üöÄ

env:
  AMBIENTE_ALVO: Producao

# Gatilhos de Evento
on:
  push:
    branches: [ "main" ]
  workflow_dispatch: # Permite execu√ß√£o manual via UI

jobs:
  analise-contextual:
    runs-on: ubuntu-latest
    steps:
      - name: Dump do Contexto GitHub
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: echo "$GITHUB_CONTEXT"

      - name: Execu√ß√£o Condicional
        if: github.event_name == 'push'
        run: echo "Este passo roda apenas em pushes, n√£o em pull requests."
  verificacao_ambiente:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout do C√≥digo
        uses: actions/checkout@v4
        # A a√ß√£o do checkout √© fundamental; sem ela, o runner √© uma caixa vazia.
        # Ela baixa seu c√≥digo para o diret√≥rio de trabalho do runner.
      - name: Inspe√ß√£o do Sistema
        run: |
          echo "Sistema Operacional: $(uname -a)"
          echo "Node Version: $(node -v)"
          echo "Diret√≥rio Atual: $(pwd)"
          ls -la